<!doctype html>
<html lang="zh-HK">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>投票 · 公眾畫面</title>
  <style>
    html,body{height:100%} body{margin:0;background:#0b0d12;color:#fff;font-family:system-ui, -apple-system, Segoe UI, Roboto, Noto Sans, Helvetica, Arial}
    .stage{position:relative; min-height:100%; display:grid; grid-template-columns: 360px 1fr; gap:24px; padding:32px}
    @media (max-width: 900px){ .stage{grid-template-columns:1fr; padding:16px} }
    .panel{background:rgba(255,255,255,.06); border-radius:20px; padding:16px}
    .qrBox{display:flex;flex-direction:column;align-items:center;justify-content:center}
    .qrLink{word-break:break-all; opacity:.7; font-size:14px; margin-top:8px}
    .title{font-size:clamp(22px, 2.8vw, 36px); margin:0 0 16px}
    .bars{display:flex; flex-direction:column; gap:12px}
    .barRow{background:rgba(255,255,255,.08); border-radius:999px; overflow:hidden; display:flex; align-items:center}
    .barFill{height:48px; display:flex; align-items:center; padding:0 14px; transition:width .5s ease}
    .barLabel{margin-left:auto; padding-right:10px; opacity:.85}
    .meta{opacity:.7; margin-top:10px}
    .hidden{display:none}
    .footer{position:absolute; left:0; right:0; bottom:0; padding:10px 20px; display:flex; justify-content:space-between; opacity:.6; font-size:12px}
    .fit{width:100%; height:100%}
  </style>
</head>
<body>
  <div class="stage">
    <!-- Left: QR (can be hidden by ui.showPollQR=false) -->
    <div id="qrPanel" class="panel qrBox">
      <div id="qr"></div>
      <div id="qrLink" class="qrLink"></div>
    </div>

    <!-- Right: poll content -->
    <div class="panel">
      <h1 id="pollQ" class="title">投票</h1>
      <div id="bars" class="bars"></div>
      <div id="total" class="meta"></div>
      <!-- Optional: an empty area you can overlay like the lucky draw canvas if desired -->
      <canvas id="fxCanvas" class="fit hidden"></canvas>
    </div>
  </div>

  <div class="footer">
    <span id="footLeft"></span>
    <span>投票系統</span>
  </div>

  <script src="./qrcode.min.js"></script>
  <script type="module" src="./src/polls_public_board.js"></script>
</body>
</html>
